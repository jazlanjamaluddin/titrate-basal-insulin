<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Basal Insulin Self-Titration</title>

<style>
:root{
  --bg:#f6f8ff;
  --card:#ffffff;
  --text:#0b1220;
  --muted:#4a5878;
  --accent:#2f6bff;
  --good:#0ea874;
  --warn:#b98700;
  --bad:#d7264d;
  --line:rgba(11,18,32,.12);
  --shadow:0 14px 34px rgba(11,18,32,.1);
  --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:linear-gradient(180deg,#fff,var(--bg));
  color:var(--text);
}
header{
  max-width:1100px;
  margin:auto;
  padding:20px;
  display:flex;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
h1{margin:0;font-size:22px}
.subtitle{color:var(--muted);font-size:14px;max-width:820px}
.lang select{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--line);
}

.wrap{max-width:1100px;margin:auto;padding:20px}
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  border:1px solid var(--line);
  margin-bottom:20px;
}
.hd{
  padding:14px 16px;
  border-bottom:1px solid var(--line);
  font-weight:700;
}
.bd{padding:16px}

.insulin-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:12px;
}
.insulin{
  display:flex;
  gap:12px;
  align-items:center;
  border:1px solid var(--line);
  border-radius:16px;
  padding:12px;
  cursor:pointer;
  transition:.15s;
}
.insulin:hover{border-color:var(--accent)}
.insulin.selected{
  border-color:var(--accent);
  background:rgba(47,107,255,.08);
}
.icon{
  width:64px;height:64px;
  border-radius:14px;
  overflow:hidden;
  border:1px solid var(--line);
  background:#fff;
  flex-shrink:0;
}
.icon img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.name{font-weight:700}
.sub{font-size:12px;color:var(--muted)}
.type{
  margin-left:auto;
  font-size:11px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--line);
}
.type.basal{background:rgba(14,168,116,.12)}
.type.other{background:#f1f1f1}

button{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid var(--accent);
  background:rgba(47,107,255,.15);
  font-weight:700;
  cursor:pointer;
}
button:disabled{opacity:.5;cursor:not-allowed}

.notice{
  background:rgba(185,135,0,.1);
  border:1px solid rgba(185,135,0,.25);
  border-radius:14px;
  padding:12px;
  font-size:13px;
  margin-bottom:14px;
}

.hidden{display:none}
</style>
</head>

<body>

<header>
  <div>
    <h1 id="t-title">Basal Insulin Self-Titration</h1>
    <div class="subtitle" id="t-sub">
      Enter fasting glucose and symptoms to receive basal insulin dose guidance.
    </div>
  </div>
  <div class="lang">
    <select id="lang">
      <option value="en">English</option>
      <option value="ms">Bahasa Melayu</option>
    </select>
  </div>
</header>

<div class="wrap">

<div class="card">
  <div class="hd" id="t-step1">Step 1: Select insulin</div>
  <div class="bd">

    <div class="notice" id="t-rule">
      You can only continue if a basal insulin (including Ryzodeg) is selected.
    </div>

    <div class="insulin-grid" id="insulinList"></div>

    <br>
    <button id="btnNext" disabled>Continue</button>

  </div>
</div>

</div>

<script>
/* =============================
   INSULIN DATA WITH IMAGES
============================= */
const INSULINS = [
  {id:"glargine-u100",name:"Insulin glargine U-100",brand:"Lantus / Basaglar",type:"basal",img:"images/glargine-u100.jpg"},
  {id:"glargine-u300",name:"Insulin glargine U-300",brand:"Toujeo",type:"basal",img:"images/glargine-u300.jpg"},
  {id:"degludec",name:"Insulin degludec",brand:"Tresiba",type:"basal",img:"images/degludec.jpg"},
  {id:"detemir",name:"Insulin detemir",brand:"Levemir",type:"basal",img:"images/detemir.jpg"},
  {id:"nph",name:"NPH insulin",brand:"Isophane (NPH)",type:"basal",img:"images/nph.jpg"},
  {id:"ryzodeg",name:"Ryzodeg",brand:"Degludec / Aspart",type:"basal",img:"images/ryzodeg.jpg"},

  {id:"aspart",name:"Insulin aspart",brand:"NovoRapid",type:"other",img:"images/aspart.jpg"},
  {id:"lispro",name:"Insulin lispro",brand:"Humalog",type:"other",img:"images/lispro.jpg"},
  {id:"glulisine",name:"Insulin glulisine",brand:"Apidra",type:"other",img:"images/glulisine.jpg"},
  {id:"regular",name:"Regular insulin",brand:"Human insulin",type:"other",img:"images/regular.jpg"},
  {id:"premix-7030",name:"Premix 70/30",brand:"NPH / Regular",type:"other",img:"images/premix-7030.jpg"},
  {id:"biphasic-aspart",name:"Biphasic insulin aspart",brand:"NovoMix",type:"other",img:"images/biphasic-aspart.jpg"}
];

let selectedInsulin = null;

/* =============================
   RENDER INSULIN LIST
============================= */
const insulinList = document.getElementById("insulinList");
const btnNext = document.getElementById("btnNext");

function renderInsulins(){
  insulinList.innerHTML="";
  INSULINS.forEach(i=>{
    const div=document.createElement("div");
    div.className="insulin"+(selectedInsulin===i.id?" selected":"");
    div.onclick=()=>{
      selectedInsulin=i.id;
      renderInsulins();
      btnNext.disabled = i.type!=="basal";
    };

    div.innerHTML=`
      <div class="icon">
        <img src="${i.img}" alt="${i.name}" onerror="this.style.display='none'">
      </div>
      <div>
        <div class="name">${i.name}</div>
        <div class="sub">${i.brand}</div>
      </div>
      <div class="type ${i.type}">${i.type==="basal"?"Basal":"Other"}</div>
    `;
    insulinList.appendChild(div);
  });
}
renderInsulins();

/* =============================
   LANGUAGE
============================= */
const TEXT = {
  en:{
    title:"Basal Insulin Self-Titration",
    sub:"Enter fasting glucose and symptoms to receive basal insulin dose guidance.",
    step1:"Step 1: Select insulin",
    rule:"You can only continue if a basal insulin (including Ryzodeg) is selected."
  },
  ms:{
    title:"Pelarasan Kendiri Insulin Basal",
    sub:"Masukkan bacaan glukosa puasa dan gejala untuk mendapatkan cadangan dos insulin basal.",
    step1:"Langkah 1: Pilih insulin",
    rule:"Anda hanya boleh meneruskan jika insulin basal (termasuk Ryzodeg) dipilih."
  }
};

document.getElementById("lang").onchange=e=>{
  const L=TEXT[e.target.value];
  document.getElementById("t-title").textContent=L.title;
  document.getElementById("t-sub").textContent=L.sub;
  document.getElementById("t-step1").textContent=L.step1;
  document.getElementById("t-rule").textContent=L.rule;
};
</script>

</body>
</html>
